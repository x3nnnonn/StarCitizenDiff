syntax = "proto3";

package sc.external.services.custom_lobby.v1;

import "sc/external/services/social/v1/types.proto";

message MapGameRules {
  repeated .sc.external.services.custom_lobby.v1.MapGameRules.Map maps = 1;
  int32 team_count = 2;
  int32 min_player_count = 3;
  int32 max_player_count = 4;
  int32 max_squad_size = 5;

  message Map {
    string map_name = 1;
    int32 max_player_count = 2;
  }
}

message CustomLobbySettings {
  bool is_public = 1;
  bool enforce_ready = 2;
  bool player_can_change_team = 3;
  string region = 4;
  string map = 5;
  string mode = 6;
  bool match_cycle = 7;
  bool is_password_enabled = 8;
}

message CustomLobbyTeam {
  string group_id = 1;
  repeated .sc.external.services.social.v1.GroupMember members = 2;
}

message CustomLobby {
  string group_id = 1;
  bool started = 2;
  .sc.external.services.custom_lobby.v1.CustomLobbySettings settings = 3;
  .sc.external.services.custom_lobby.v1.MapGameRules map_game_rules = 4;
  repeated .sc.external.services.custom_lobby.v1.CustomLobbyTeam teams = 5;
}

