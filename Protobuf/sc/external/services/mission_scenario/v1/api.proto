syntax = "proto3";

package sc.external.services.mission_scenario.v1;

import "protoc-gen-openapiv2/options/annotations.proto";
import "google/api/annotations.proto";
import "sc/external/common/mission/v1/scenarios.proto";

service ScenarioService {
  rpc GetContributorScenarioProgress ( .sc.external.services.mission_scenario.v1.GetContributorScenarioProgressRequest ) returns ( .sc.external.services.mission_scenario.v1.GetContributorScenarioProgressResponse );
  rpc QueryScenarioStatus ( .sc.external.services.mission_scenario.v1.QueryScenarioStatusRequest ) returns ( .sc.external.services.mission_scenario.v1.QueryScenarioStatusResponse );
}

message GetContributorScenarioProgressRequest {
  string template_id = 2;
  uint64 contributor_id = 3;
}

message GetContributorScenarioProgressResponse {
  map<string, int64> overall_progress = 1;
  map<string, int64> contributor_progress = 2;
  bool is_scenario_active = 3;

}

message QueryScenarioStatusRequest {
  repeated string template_ids = 1;
}

message QueryScenarioStatusResponse {
  repeated .sc.external.services.mission_scenario.v1.QueryScenarioStatusResponse.Body results = 1;

  message Body {
    string template_id = 1;
    .sc.external.common.mission.v1.ScenarioStatus status = 3;
  }
}

